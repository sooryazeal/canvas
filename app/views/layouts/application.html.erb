<!DOCTYPE html>
<html>
  <head>
    <title>Charts</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
  <% if user_signed_in? %>
    <table>
      <tbody>
        <tr>
          <td>
            <svg class="initials" onclick="toggleOptions()">
              <circle cx="50" cy="30" r="25"></circle>
              <text x="42" y="35" style="fill: black;">
                <%= current_user.name.split.map(&:capitalize).map{|x| x[0]}.join('') %>
              </text>
            </svg>
          </td>
        </tr>
        <tr class="options">
          <td id="options">
            <a class="navbar-link down_links" rel="nofollow" data-method="delete" href="/users/sign_out">Logout</a>
          </td>
        </tr>
      </tbody>
    </table>
  <% else %>
    <p class="navbar-text float-right logo">
        <%= image_tag 'logo.png' %>
        <% link_to "Sign up", new_user_registration_path, :class => 'navbar-link'  %>
        <% link_to "Login", new_user_session_path, :class => 'navbar-link'  %>
    </p>
  <% end %>
  <%= yield %>
  </body>
    <%= javascript_include_tag "static/canvas", "data-turbolinks-track" => true %>
    <%= javascript_include_tag "https://d3js.org/d3.v5.js", "data-turbolinks-track" => true %>
    <%= javascript_include_tag "https://d3plus.org/js/d3plus.v2.0.0-alpha.25.full.min.js", "data-turbolinks-track" => true %>
</html>
